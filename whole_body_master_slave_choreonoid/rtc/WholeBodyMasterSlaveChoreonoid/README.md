前提:
- エンドエフェクタの個数や部位は固定
- 2足歩行のみを対象とする
  - エンドエフェクタのうちの2つがrleg, lleg

# 入力
- 各エンドエフェクタの位置姿勢
- rleg,llegの場合、それぞれ支持脚として扱うか否か

# 入力エンドエフェクタ位置姿勢の座標系

入力の支持脚と実機の支持脚の積集合を狭義の支持脚と呼ぶ. 現在の狭義の支持脚が存在しない場合は過去に最後に存在していたときの狭義の支持脚を現在の狭義の支持脚とする。

X,Y,Z,yawは狭義の支持脚と同じでroll=0,pitch=0の座標系を基準座標系と呼ぶ。狭義の支持脚が2つ存在する場合は、基準座標系のX,Y,Z,yawはそれらの中間となる.

基準座標系からの相対位置姿勢を用いて、入力と実機のエンドエフェクタ座標を対応付ける.

# memo

handのbuttonによるstart stopは、ROSのレイヤで扱う. 2秒間押すと切り替わる